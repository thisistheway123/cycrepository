<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cyc - September 2025 Calendar</title>
  <style> /* ts is in css */
    .past-day {
      background: #e0e0e0 !important;
      color: #aaa !important;
      cursor: not-allowed !important;
    }
    .today {
      background: #fff59d !important;
      color: #d32f2f !important;
      border: 2px solid #fbc02d !important;
    }
    * {
      margin: 0px;
      padding: 0px;
      box-sizing: border-box;
    }

    body {
      font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
      line-height: 3.1;
      background-color: #c2e0ff;
      color: #333;
      text-align: center;
    }
    
    /* Header & Navigation */
    .nav-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #222;
      color: #fff;
      padding: 10px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo {
      display: flex;
      align-items: center;
      animation: logo-slide 1s ease-out;
    }
    .logo-img {
    max-width: 50px;
    height: auto;
    display: block;
    }
    .nav-links a {
      color: #fff;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease;
      animation: logo-slide 2s ease-out;
    }

    .nav-links a:hover {
      color: #ff9800;
    }

    .menu-toggle {
      display: none;
      font-size: 28px;
      cursor: pointer;
    }

    /* Responsive Navigation */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
        flex-direction: column;
        background: #333;
        position: absolute;
        top: 50px;
        right: 0;
        width: 150px;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 10px 0;
      }

      .menu-toggle {
        display: block;
      }
    }

    /* Main content */
    main {
      padding: 50px 20px;
    }

    table {
      border-collapse: collapse;
      background: rgb(255, 255, 255);
      color: rgba(255, 0, 0, 0.473);
      margin: 0 auto;
      animation: logo-slide 0.5s ease-out;
      width: 90%;
      max-width: 800px;
    }

    th,
    td {
      padding: 12px 8px;
      font-weight: 400;
      border: 1px solid #aaa;
      animation: logo-slide 1s ease-out;
      vertical-align: top;
    }

    th {
      background: purple;
      color: white;
    }

    /* Calendar cells clickable */
    td {
      cursor: pointer; /* shows pointer on hover */
      vertical-align: top;
      position: relative;
      transition: background-color 0.3s ease;
    }

    td:hover {
      background-color: #ffe0b2; /* soft highlight */
    }

    /* Date number styling */
    .date-number {
      font-weight: bold;
      font-size: 1.1em;
      margin-bottom: 6px;
      color: #800080; /* purple */
    }

    /* Entries text */
    .entries {
      margin-top: 5px;
      font-size: 0.85em;
      color: #003366; /* dark blue */
      white-space: pre-wrap; /* multiline */
      min-height: 20px;
    }

    /* Animations */
    @keyframes logo-slide {
      0% {
        transform: translateX(-50px);
        opacity: 0;
      }
      100% {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Fade-in section animation */
    .fade-in-section {
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 1s ease-out, transform 1s ease-out;
    }

    .fade-in-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Footer */
    footer {
      background: #222;
      color: #fff;
      padding: 10px 0;
      position: relative;
      margin-top: 50px;
    }
  </style>
</head>
<body>
  <header>
    <nav class="nav-bar">
      <div class="logo">
      <img src="cyclogo (1) (1).png" alt="  ts Logo" class="logo-img">
      </div>
      <div class="nav-links">
        <a href="index.html">ts home</a>
        <a href="about.html">ts about</a>
        <a href="calendar.html">calendar</a>
      </div>
      <div id="clock-header" style="margin-left:auto; font-size:1.3em; font-weight:bold; color:#fff; background:#333; border-radius:8px; padding:6px 18px; min-width:110px; text-align:center;"></div>
      <div class="menu-toggle">☰</div>
    </nav>
  </header>

  <div style="display:flex;justify-content:center;align-items:center;margin:20px 0;gap:20px;">
    <button id="prevMonthBtn">&#8592; Prev</button>
    <h2 id="calendarTitle" style="color: rgb(0, 0, 0);margin:0;"></h2>
    <button id="nextMonthBtn">Next &#8594;</button>
  </div>
  <div id="calendarContainer"></div>

  <script>
    function updateClockHeader() {
      const now = new Date();
      let h = now.getHours().toString().padStart(2, '0');
      let m = now.getMinutes().toString().padStart(2, '0');
      let s = now.getSeconds().toString().padStart(2, '0');
      document.getElementById('clock-header').textContent = `${h}:${m}:${s}`;
    }
    setInterval(updateClockHeader, 1000);
    updateClockHeader();
  </script>
  <footer>

    <div>© 2025 ts website. All rights reserved.</div>
  </footer>
  <div id="eventModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:9999; align-items:center; justify-content:center;">
    <div style="background:#fff; padding:24px; border-radius:8px; min-width:300px; max-width:90vw; margin:auto; position:relative;">
      <h3 id="modalDate"></h3>
      <input id="eventInput" type="text" placeholder="Enter event..." style="width:100%; margin-bottom:10px; padding:6px;" />
      <input id="fileInput" type="file" accept=".txt" style="margin-bottom:10px;" />
      <div style="margin-bottom:10px; color:#888; font-size:0.9em;">Or select a .txt file to display its contents.</div>
      <button id="saveEventBtn">Save</button>
      <button id="cancelEventBtn">Cancel</button>
    </div>
  </div>
  <script>
    // Unified calendar renderer with month switching
    const monthNames = ['January','February','March','April','May','June','July','August','September','October','November','December'];
    const today = new Date();
    let viewMonth = today.getMonth();
    let viewYear = today.getFullYear();

    const calendarTitle = document.getElementById('calendarTitle');
    const calendarContainer = document.getElementById('calendarContainer');

    const modal = document.getElementById('eventModal');
    const eventInput = document.getElementById('eventInput');
    const fileInput = document.getElementById('fileInput');
    const saveBtn = document.getElementById('saveEventBtn');
    const cancelBtn = document.getElementById('cancelEventBtn');
    const modalDate = document.getElementById('modalDate');
    let currentEntries = null;
    let currentDate = null;

    function renderCalendar(month, year) {
      calendarTitle.textContent = `${monthNames[month]} ${year}`;
      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      const table = document.createElement('table');
      table.setAttribute('bgcolor','lightgrey');
      table.setAttribute('cellspacing','21');
      table.setAttribute('cellpadding','21');

      const thead = document.createElement('thead');
      const headRow = document.createElement('tr');
      ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].forEach(d => { const th = document.createElement('th'); th.textContent = d; headRow.appendChild(th); });
      thead.appendChild(headRow);
      table.appendChild(thead);

      const tbody = document.createElement('tbody');
      let date = 1;
      for (let i = 0; i < 6; i++) {
        const row = document.createElement('tr');
        for (let j = 0; j < 7; j++) {
          const cell = document.createElement('td');
          if (i === 0 && j < firstDay) {
            // empty
          } else if (date > daysInMonth) {
            // empty
          } else {
            const dateDiv = document.createElement('div');
            dateDiv.className = 'date-number';
            dateDiv.textContent = date;
            const entriesDiv = document.createElement('div');
            entriesDiv.className = 'entries';
            cell.appendChild(dateDiv);
            cell.appendChild(entriesDiv);

            // Past vs today vs future
            if (year < today.getFullYear() || (year === today.getFullYear() && month < today.getMonth()) || (year === today.getFullYear() && month === today.getMonth() && date < today.getDate())) {
              cell.classList.add('past-day');
            } else if (year === today.getFullYear() && month === today.getMonth() && date === today.getDate()) {
              cell.classList.add('today');
            }

            date++;
          }
          row.appendChild(cell);
        }
        tbody.appendChild(row);
        if (date > daysInMonth) break;
      }

      table.appendChild(tbody);
      calendarContainer.innerHTML = '';
      calendarContainer.appendChild(table);

      // wire cell clicks
      calendarContainer.querySelectorAll('td').forEach(cell => {
        cell.addEventListener('click', () => {
          if (cell.classList.contains('past-day')) return;
          const date = cell.querySelector('.date-number');
          const entries = cell.querySelector('.entries');
          if (date && entries) {
            currentEntries = entries;
            currentDate = date.textContent;
            eventInput.value = entries.textContent || '';
            fileInput.value = '';
            modalDate.textContent = `Event for ${monthNames[month]} ${currentDate}, ${year}`;
            modal.style.display = 'flex';
          }
        });
      });
    }

    document.getElementById('prevMonthBtn').addEventListener('click', () => {
      viewMonth--;
      if (viewMonth < 0) { viewMonth = 11; viewYear--; }
      renderCalendar(viewMonth, viewYear);
    });
    document.getElementById('nextMonthBtn').addEventListener('click', () => {
      viewMonth++;
      if (viewMonth > 11) { viewMonth = 0; viewYear++; }
      renderCalendar(viewMonth, viewYear);
    });

    saveBtn.addEventListener('click', () => {
      if (currentEntries) currentEntries.textContent = eventInput.value;
      modal.style.display = 'none';
    });
    cancelBtn.addEventListener('click', () => { modal.style.display = 'none'; });
    fileInput.addEventListener('change', e => {
      const file = e.target.files[0];
      if (file && file.type === 'text/plain') {
        const reader = new FileReader();
        reader.onload = evt => { eventInput.value = evt.target.result; };
        reader.readAsText(file);
      }
    });
    modal.addEventListener('click', e => { if (e.target === modal) modal.style.display = 'none'; });

    // initial render
    renderCalendar(viewMonth, viewYear);
  </script>

</body>
</html>